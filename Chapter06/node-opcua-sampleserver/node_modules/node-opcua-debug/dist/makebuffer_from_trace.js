"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const node_opcua_buffer_utils_1 = require("node-opcua-buffer-utils");
//xx const deprecated_trim = function (str:string):string {
//xx     return str.replace(/^\s+|\s+$/g, "");
//xx };
function inlineText(f) {
    let k = f.toString().
        replace(/^[^\/]+\/\*!?/, '').
        replace(/\*\/[^\/]+$/, '');
    k = k.split("\n").map((t) => t.trim()).join("\n");
    return k;
}
exports.inlineText = inlineText;
function hexString(str) {
    let hexline = "";
    const lines = str.split("\n");
    for (let line of lines) {
        line = line.trim();
        if (line.length > 80) {
            line = line.substr(10, 98).trim();
            hexline = hexline ? hexline + " " + line : line;
        }
        else if (line.length > 60) {
            line = line.substr(7, 48).trim();
            hexline = hexline ? hexline + " " + line : line;
        }
    }
    return hexline;
}
function makebuffer_from_trace(func) {
    return node_opcua_buffer_utils_1.makeBuffer(hexString(inlineText(func)));
}
exports.makebuffer_from_trace = makebuffer_from_trace;
//# sourceMappingURL=makebuffer_from_trace.js.map